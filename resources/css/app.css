@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';
}

/* ===== ستايلات لوحة التحكم (تعتمد على tokens من base.css) ===== */

/* Sidebar */
.sidebar{
  position: fixed; top: 0; right: 0; bottom: 0; left: auto;
  width: var(--sidebar-w);
  background: linear-gradient(180deg, rgba(11,18,35,.92), rgba(18,26,47,.92));
  color: #fff; backdrop-filter: blur(8px);
  border-left: 1px solid rgba(255,255,255,.08);
  box-shadow: -6px 0 28px rgba(2,8,23,.22);
  z-index: 1055; transition: var(--trans);
  display: flex; flex-direction: column;
}
.sidebar .brand{
  display: flex; align-items: center; gap: 12px;
  padding: 16px; border-bottom: 1px solid rgba(255,255,255,.08);
}
.brand-logo{
  width: 44px; height: 44px; border-radius: 14px;
  display: grid; place-items: center;
  background: linear-gradient(135deg, rgba(59,130,246,.18), rgba(96,165,250,.14));
  color: var(--primary-blue);
}
.brand-txt{ display: flex; flex-direction: column; }
.brand-name{ font-weight: 800; letter-spacing: .2px; }
.brand-sub{ font-size: .8rem; opacity: .75; }
.pin-btn{
  margin-right: auto; border: 1px solid rgba(255,255,255,.14);
  color: #fff; background: transparent;
  padding: 8px 10px; border-radius: 10px; transition: var(--trans);
}
.pin-btn:hover{ background: rgba(255,255,255,.08); }

.nav-scroll{ overflow-y: auto; padding: 10px 10px 14px; flex: 1; }
.side-link{
  display: flex; align-items: center; gap: 12px;
  text-decoration: none; color: rgba(255,255,255,.9);
  padding: 12px 14px; border-radius: 12px; position: relative;
  transition: var(--trans);
}
.side-link:hover{ background: rgba(59,130,246,.14); color: #fff; }
.side-link.active{ background: rgba(59,130,246,.2); }
.side-link .ico{ width: 26px; text-align: center; font-size: 1.05rem; opacity: .95; }
.side-link .txt{ font-weight: 600; }
.pill{ position: absolute; inset-inline-start: 8px; inset-block: 0; width: 4px; border-radius: 8px; background: transparent; }
.side-link.active .pill{ background: linear-gradient(180deg, var(--primary-blue), var(--secondary-blue)); }

.side-footer{
  border-top: 1px solid rgba(255,255,255,.08);
  padding: 14px 16px;
  display: flex; align-items: center; gap: 12px;
}
.avatar{
  width: 40px; height: 40px; border-radius: 12px;
  display: grid; place-items: center; font-weight: 700; color: #fff;
  background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
}
.me-info{ line-height: 1.1; }
.me-name{ font-weight: 700; }
.me-role{ font-size: .8rem; opacity: .75; }

/* Mini على الديسكتوب */
.sidebar.mini{ width: var(--sidebar-mini); }
.sidebar.mini .brand-txt, .sidebar.mini .txt, .sidebar.mini .me-info{ display: none; }
.sidebar.mini .brand{ justify-content: center; }
.sidebar.mini .side-footer{ justify-content: center; }

/* Topbar + Main */
.topbar{
  position: sticky; top: 0; height: var(--header-h);
  display: flex; align-items: center; justify-content: space-between;
  background: #fff; box-shadow: var(--shadow-1);
  padding: 0 18px; z-index: 1020;
  /* مهم: لا نضع transition شامل هنا حتى لا يتحرك الـmargin عند أول رسم */
}
.main{
  margin-right: var(--sidebar-w);
  transition: var(--trans);
  min-height: 100vh;
}
.main.mini{ margin-right: var(--sidebar-mini); }

/* الديسكتوب فقط: topbar يتحرك مع عرض الشريط بدون انتقال margin */
@media (min-width: 992px){
  .topbar{ margin-right: var(--sidebar-w); transition: background-color .25s, box-shadow .25s; }
  .topbar.mini{ margin-right: var(--sidebar-mini); }
}

/* الجوال/التابلت: بدون هامش إضافي */
@media (max-width: 992px){
  .topbar, .topbar.mini{ margin-right: 0; }
}

/* Search */
.search-bar{ position: relative; width: clamp(190px, 30vw, 320px); }
.search-bar input{
  background: var(--light-bg);
  border: 1px solid var(--border-color);
  border-radius: 12px; height: 42px;
  padding: 0 44px 0 14px;
}
.search-bar i{
  position: absolute; right: 12px; top: 50%; transform: translateY(-50%); color: #94a3b8;
}

/* Content */
.content-area{ padding: 22px; }
.page-title{
  font-weight: 800; font-size: 1.65rem; position: relative; padding-bottom: 12px;
}
.page-title:after{
  content:""; position: absolute; bottom: 0; right: 0; width: 56px; height: 4px;
  border-radius: 2px; background: linear-gradient(90deg, var(--primary-blue), var(--secondary-blue));
}
/* Force all selects to open in RTL */
select.form-select {
  direction: rtl;
  text-align: right;
}




/* Responsive Sidebar سلوك الجوال */
@media (max-width: 992px){
  .sidebar{ transform: translateX(100%); width: min(86vw, var(--sidebar-w)); }
  .sidebar.show{ transform: translateX(0); }
  .main, .main.mini{ margin-right: 0; }
  /* عند فتح الشريط على الجوال نُظهر النص */
  .sidebar .brand-txt, .sidebar .txt, .sidebar .me-info{ display: flex !important; }
}
